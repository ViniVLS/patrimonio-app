<form [formGroup]="cadastroPJForm" (ngSubmit)="enviarDados()">
  <div class="cadastro-pj-grid">

    <!-- DADOS DA EMPRESA -->
    <fieldset class="section-pj">
      <legend>Informações da Empresa</legend>
      <div class="form-group-grid">

        <div class="input-full">
          <label for="razaoSocial">Razão Social *</label>
          <input id="razaoSocial" formControlName="razaoSocial" type="text">
          <div *ngIf="cadastroPJForm.get('razaoSocial')?.invalid && cadastroPJForm.get('razaoSocial')?.touched" class="erro-msg">
            Razão Social é obrigatória.
          </div>
        </div>

        <div>
          <label for="cnpj">CNPJ *</label>
          <input id="cnpj" formControlName="cnpj" type="text" placeholder="00.000.000/0000-00">
          <div *ngIf="cadastroPJForm.get('cnpj')?.invalid && cadastroPJForm.get('cnpj')?.touched" class="erro-msg">
            CNPJ inválido ou obrigatório.
          </div>
        </div>

        <div>
          <label for="nomeFantasia">Nome Fantasia</label>
          <input id="nomeFantasia" formControlName="nomeFantasia" type="text">
        </div>

        <div>
          <label for="telefoneComercial">Telefone Comercial *</label>
          <input id="telefoneComercial" formControlName="telefoneComercial" type="tel" placeholder="(99) 9999-9999">
          <div *ngIf="cadastroPJForm.get('telefoneComercial')?.invalid && cadastroPJForm.get('telefoneComercial')?.touched" class="erro-msg">
            Telefone é obrigatório.
          </div>
        </div>

        <div>
          <label for="inscricaoEstadual">Inscrição Estadual</label>
          <input id="inscricaoEstadual" formControlName="inscricaoEstadual" type="text">
        </div>

        <div>
          <label for="inscricaoMunicipal">Inscrição Municipal</label>
          <input id="inscricaoMunicipal" formControlName="inscricaoMunicipal" type="text">
        </div>
      </div>
    </fieldset>

    <!-- DADOS DO REPRESENTANTE E ACESSO -->
    <fieldset class="section-acesso">
      <legend>Representante e Acesso</legend>
      <div class="form-group-grid">

        <div class="input-full">
          <label for="responsavelLegal">Nome do Representante *</label>
          <input id="responsavelLegal" formControlName="responsavelLegal" type="text">
          <div *ngIf="cadastroPJForm.get('responsavelLegal')?.invalid && cadastroPJForm.get('responsavelLegal')?.touched" class="erro-msg">
            Nome do Representante é obrigatório.
          </div>
        </div>

        <div class="input-full">
          <label for="email">E-mail *</label>
          <input id="email" formControlName="email" type="email">
          <div *ngIf="cadastroPJForm.get('email')?.invalid && cadastroPJForm.get('email')?.touched" class="erro-msg">
            E-mail inválido ou obrigatório.
          </div>
        </div>

        <div>
          <label for="senha">Senha *</label>
          <input id="senha" formControlName="senha" type="password">
          <div *ngIf="cadastroPJForm.get('senha')?.invalid && cadastroPJForm.get('senha')?.touched" class="erro-msg">
            Senha obrigatória (mínimo 6 caracteres).
          </div>
        </div>

        <div>
          <label for="confirmacaoSenha">Confirme a Senha *</label>
          <input id="confirmacaoSenha" formControlName="confirmacaoSenha" type="password">
          <div *ngIf="cadastroPJForm.get('confirmacaoSenha')?.touched && cadastroPJForm.errors?.['mismatch']" class="alert-erro-senha">
            As senhas digitadas não coincidem.
          </div>
        </div>
      </div>
    </fieldset>

    <!-- ENDEREÇO (Campo completo) -->
    <fieldset class="input-full section-endereco">
        <legend>Endereço Completo</legend>
        <div class="form-group-grid">
            <div>
              <label for="cep">CEP *</label>
              <input id="cep" formControlName="cep" type="text" placeholder="00000-000">
            </div>

            <div>
              <label for="uf">UF *</label>
              <select id="uf" formControlName="uf">
                <option value="">UF</option>
                <option *ngFor="let uf of ufs" [value]="uf">{{ uf }}</option>
              </select>
            </div>

            <div class="input-full">
              <label for="logradouro">Logradouro (Rua, Avenida) *</label>
              <input id="logradouro" formControlName="logradouro" type="text">
            </div>

            <div>
              <label for="numero">Número *</label>
              <input id="numero" formControlName="numero" type="text">
            </div>

            <div>
              <label for="bairro">Bairro *</label>
              <input id="bairro" formControlName="bairro" type="text">
            </div>

            <div class="input-full">
              <label for="cidade">Cidade *</label>
              <input id="cidade" formControlName="cidade" type="text">
            </div>
        </div>
    </fieldset>

    <!-- TERMOS E BOTÃO -->
    <div class="form-actions input-full">
      <div class="termo-aceite">
        <input id="aceiteTermos" formControlName="aceiteTermos" type="checkbox">
        <label for="aceiteTermos">Li e aceito os Termos de Uso *</label>
        <div *ngIf="cadastroPJForm.get('aceiteTermos')?.invalid && cadastroPJForm.get('aceiteTermos')?.touched" class="erro-msg">
            Você deve aceitar os termos.
        </div>
      </div>

      <button type="submit" [disabled]="cadastroPJForm.invalid" class="btn-submit">
        Finalizar Cadastro
      </button>
    </div>

  </div>
</form>


